<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <title>Title</title>


</head>

<body>

<h1>My First Web Page!</h1>
<p>websocket implementation.</p>
<input id="input" type="text", placeholder="send message">
<button  onclick="sendMessage()">submit</button>



<script type="text/javascript">
    // Note that the path doesn't matter for routing; any WebSocket
// connection gets bumped over to WebSocket consumers

//socket = new WebSocket("ws://" + window.location.host + "/chat/");
//var socket = io.connect('http://192.168.1.33:8000');
    // Create a new WebSocket
socket = new WebSocket('ws://192.168.2.24:8000/chat/');



    console.log("OOOOOOOOOOOOOOOOO",window.location.host)
    //console.log("oooooooooooooooooobbbbbbbbbjjjjjjjjj",socket)
    //console.log("requestttttttttttt",message.session.session_key)
    // Make it show an alert when a message is received
    socket.onmessage = function(e)
    {
        console.log(e,"e")
        alert(e.data);
    };
    // Send a new message when the WebSocket opens
    socket.onopen = function(value) {
        console.log("open")
        socket.send(value);
    };
// Call onopen directly if socket is already open
//if (socket.readyState == WebSocket.OPEN)

function sendMessage() {
             var v= document.getElementById("input")
             console.log(v.value,'asdiugasdjbjhsad')
    if (socket.readyState == WebSocket.OPEN) socket.onopen(v.value);


}

</script>
</body>

</html>